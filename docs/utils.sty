% Basic setting.
\usepackage{cmap} % Accent
\usepackage[utf8]{inputenc} % Input encoding.
\usepackage[T1]{fontenc} % Output encoding.
\usepackage[english,czech]{babel} % Languages.
\selectlanguage{czech} % Default language.
\usepackage{float}
\usepackage{enumitem}

% Layout.
\usepackage[top=25mm, left=35mm, total={160mm,247mm}, includehead=false, includefoot=false]{geometry}	
\usepackage{xcolor}	 % Colors.
\usepackage{hyperref} % Links in PDF.

% PDF info (UTF-8, section numbers, ...
\hypersetup{unicode, bookmarksnumbered=true, bookmarksopen=true, bookmarksopenlevel=2}

% Fonts Latin Modern.
\usepackage{lmodern}

% Show subsubsection in list.
\setcounter{tocdepth}{4}

% Section titles.
\usepackage{titlesec}
\titleformat{\section}
	{\Large\bfseries}
	{\thesection}
	{1em}
	{\MakeUppercase}		% titulky sekcí verzálkami
\titleformat*{\subsection}{\large\rmfamily\bfseries}
\titleformat*{\subsubsection}{\normalsize\rmfamily\bfseries}

% Section starts on new page.
\let\nopagesection\section		% původní chování \section
\def\section{\clearpage\nopagesection}	% redefinice pomocí \clearpage

\usepackage{multicol}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{etoolbox}
\usepackage{caption}

\DeclareCaptionType{eq}[Vzorec][Seznam vzorců]
\captionsetup{font=footnotesize,justification=centering,margin=\parindent}


\usepackage{array,multirow}
\definecolor{lightgray}{rgb}{0.8,0.8,0.8}

% Typography.
\clubpenalty=10000			% zákaz sirotků
\widowpenalty=10000			% zákaz vdov
\parindent=15pt				% odstavcová zarážka
\def\figsp{\hphantom{0}}		% mezera o velikosti cifry
\def\thinspace{\kern .25em }		% zúžená mezera dle normy ON ČSN 88 2503: 1/4 čtverčíku
\def\negthinspace{\kern-.25em }		% záporná zúžená
\useshorthands*{"}
\defineshorthand{"-}{\babelhyphen{nobreak}} % zkratka pro nezlomitelný spojovník (opakující se je "=)
\def\baselinestretch{1.5}\normalsize	% změna řádkování na 1,5
\bigskipamount = 1.5\bigskipamount	% \bigskip 1,5krát větší (tj. vynechá řádek a půl)
\medskipamount = 1.5\medskipamount	% dtto \medskip
\smallskipamount = 1.5\smallskipamount	% dtto \smallskip
\intextsep = 1\bigskipamount		% odsazení plovoucích objektů

% Table setup.
\AtBeginEnvironment{tabular}{\footnotesize}
\AtBeginEnvironment{longtable}{\footnotesize}
\renewcommand*\l@figure{\@dottedtocline{1}{0em}{2.3em}}\let\l@table\l@figure	% Default 1.5em 2.3em.


\pagestyle{empty}			% strany nečíslovat až do úvodu
\raggedbottom				% neroztahovat stránku k dolnímu okraji
\setlength{\@fptop}{0pt}		% odsazení shora pro plovoucí objekty
\setlength{\@fpsep}{18pt plus 12pt}	% mezera mezi plovoucími objekty

\renewenvironment{center}		% zrušení dodatečné mezery kolem prostředí center
	{\parskip=0pt\par\nopagebreak\centering}
	{\par}%\noindent\ignorespacesafterend}

\AtBeginDocument{			% změna pojmenování titulků
	% nepoužívat verzálky, případný převod na verzálky je řešen globální redefinicí \section
	\renewcommand{\refname}{Použitá literatura}	% původně: Reference
	%\renewcommand\contentsname{Obsah}		% výchozí
	%\renewcommand{\listfigurename}{Seznam obrázků}	% výchozí
	%\renewcommand{\listtablename}{Seznam tabulek}	% výchozí
	\hypersetup{			% info v PDF
		pdftitle={\nazevPrace},
		pdfauthor={\jmenoAutora},
		pdfkeywords={\klicovaSlova},
	}
}

% List style.
\usepackage{enumitem}
\setlist{nosep}
\setlist[itemize]{leftmargin=2\parindent}
\setlist[enumerate]{leftmargin=2\parindent}
\setlist[enumerate,2]{label={\theenumii)}}

\newcount\strZadani
\def\zadaniLabel{%
	\clearpage
	\phantomsection\label{assignment}	% reference
	\pdfbookmark[1]{Zadání}{assignment}	% záložka do PDF
}
\newcommand{\assignment}[1][2]{% volitelný parametr určuje počet stran zadání
	\zadaniLabel
	\strZadani=\z@
	\loop \ifnum\strZadani<#1
		\advance\strZadani\@ne
		\begin{center}
			\phantomsection \label{zadaniprace\the\strZadani}
			\edef\cestaZadani{\prefixZadani \the\strZadani \suffixZadani}
			\includegraphics[width=\textwidth]{\cestaZadani}
		\end{center}
		\clearpage
	\repeat
}
\newcommand{\vakatZadani}[1][1]{%	volitelný parametr určuje počet stran
	\zadaniLabel
	\strZadani=\z@
	\loop \ifnum\strZadani<#1
		\advance\strZadani\@ne
		\clearpage\null\clearpage
	\repeat
}

% List of source codes.
\usepackage{listings}
\renewcommand{\lstlistingname}{Zdrojový kód}
\renewcommand{\lstlistlistingname}{Seznam zdrojových kódů}

% Add lstlistingname before item in list of source codes.
\let\oldlstlistoflistings\lstlistoflistings
\renewcommand{\lstlistoflistings}{%
  \begingroup%
  \let\oldnumberline\numberline%
  \renewcommand{\numberline}{\lstlistingname~\oldnumberline}%
  \oldlstlistoflistings%
  \endgroup
}

\lstset{
   basicstyle=\footnotesize\ttfamily,
   tabsize=2,
   breaklines=true,
   showtabs=false,
   captionpos=b
}

% List of source codes paadding.
\usepackage{xpatch}
\makeatletter
\xpatchcmd\l@lstlisting{1.5em}{0em}{}{}
\makeatother

% Links without border.
\hypersetup{hidelinks}

% Render image fugire.
% \img[Short caption]{Full caption}{Path of grahics}
\newcommand{\img}[3][]{    
	\begin{figure}[H]
		\begin{center}
			\includegraphics[width=\textwidth]{#3}
		\end{center}
		\vspace{-5pt}
		\caption[#2]{#2\ifx&#1&\else~\footnotemark[#1]\fi}
		\vspace{-15pt}
	\end{figure}
}

\newcommand{\tab}[3][]{
	\begin{table}[ht]
		\begin{center}
			#3
		\end{center}
		\vspace{-5pt}
		\caption[#2]{#2\ifx&#1&\else~\footnotemark[#1]\fi}
		\vspace{-15pt}
	\end{table}
}

% Table color.
\usepackage{color, colortbl}
\definecolor{lightgray}{rgb}{0.8,0.8,0.8}

% Math mode.
\newcommand{\formula}[4][]{
	\begin{eq}[!ht]
		\vspace{-5pt}
		\begin{equation}
			 #3
		\end{equation}
		\vspace{-20pt}
		\caption[#2]{#2\ifx&#1&\else~#1\fi}
		\begin{center}
		{#4}
		\end{center}
		\vspace{-15pt}
	\end{eq}
}

% Insert page note with reference to draw.io.
\newcommand{\draw}[1][1]{\footnotetext[#1]{Vytvořeno autorem v \url{https://www.draw.io}.}}


% Insert page note with reference to draw.io and GIMP.
\newcommand{\drawgimp}[1][1]{\footnotetext[#1]{Vytvořeno autorem v \url{https://www.draw.io} a GIMP.}}

% Insert page note with reference to dataset.
\newcommand{\dataplot}[1][1]{\footnotetext[#1]{Vytvořeno autorem za využití datasetu TODO: REF}}


% Render bibitem for online source.
% \onlinesource[Author]{id}{Article}{Page}{Date}{CitationDate}{Url}
\newcommand{\onlinesource}[7][]{
	\bibitem{#2}
	#1\ifx&#1&\else.\fi #3. \textit{#4.} [online]. #5. [cit. #6]. Dostupné z: \url{#7}
}

\newcommand{\deskpage}{%
	\begin{titlepage}
		\begin{center}
			\LARGE\rmfamily\MakeUppercase{Univerzita Pardubice}\par\Large
			\MakeUppercase{\jmenoFakulty}
			\LARGE\par\vspace{0pt plus 4fill}
			\MakeUppercase{\typPrace}
			\par\par\par\vspace{0pt plus 5fill}
			\rok~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\jmenoAutora
		\end{center}
	\end{titlepage}
	\stepcounter{page}
}

\newcommand{\mainpage}{
	\phantomsection\label{titlepage}
	\pdfbookmark{\nazevPrace}{titlepage}
	\begin{titlepage}
		\begin{center}
			\Large\rmfamily
			Univerzita Pardubice
			\par
			\jmenoFakulty
			\par
			\vspace{0pt plus 3fill}
			\nazevPrace
			\par
			\bigskip
			\par
			\jmenoAutora
			\par
			\vspace{0pt plus 5fill}
			\typPrace
			\par
			\rok
		\end{center}
	\end{titlepage}
	\stepcounter{page}
}

\newcommand{\content}{
	\clearpage\phantomsection\label{contents}
	\pdfbookmark[1]{\contentsname}{contents}
	\tableofcontents
}

\newcommand{\imglist}{%
	\clearpage\phantomsection\addcontentsline{toc}{section}{\listfigurename}
	{
		\let\oldnumberline\numberline%
		\renewcommand{\numberline}{\figurename~\oldnumberline}%
		\listoffigures%
	}
}


\newcommand{\tablelist}{%
	\clearpage\phantomsection\addcontentsline{toc}{section}{\listtablename}
	{%  
		\let\oldnumberline\numberline%  
		\renewcommand{\numberline}{\tablename~\oldnumberline}%  
		\listoftables%  
	}
}

\newcommand{\shortlist}{%
	\clearpage\phantomsection\addcontentsline{toc}{section}{\listfigurename}
	\section*{Seznam zkratek}
}

\newcommand{\codelist}{
	\lstlistoflistings
	\addcontentsline{toc}{section}{Seznam zdrojových kódů}
}

\newcommand{\formulalist}{
	\listofeq
	\addcontentsline{toc}{section}{Seznam vzorců}
}

\newcommand{\annotationcs}{%
	\clearpage\phantomsection\label{annotation}
	\pdfbookmark[1]{Anotace}{annotation}	% záložka do PDF
	\subsection*{\normalsize \MakeUppercase{Anotace}}
	\anotace
	\subsection*{\normalsize \MakeUppercase{Klíčová slova}}
	\klicovaSlova
	\bigskip
}

\newcommand{\annotationen}{%
	\begin{otherlanguage*}{english}
		\subsection*{\normalsize \MakeUppercase{Title}}
		\title
		\subsection*{\normalsize \MakeUppercase{Annotation}}
		\annotation
		\subsection*{\normalsize \MakeUppercase{Keywords}}
		\keywords
	\end{otherlanguage*}
}

\newcommand{\statement}{%
	\clearpage
	\subsection*{Prohlášení autora}
	Prohlašuji, že jsem tuto práci vypracoval samostatně. Veškeré literární prameny a informace,
	které jsem v~práci využil, jsou uvedeny v~seznamu použité literatury.
	\par
	Byl jsem seznámen s~tím, že se na moji práci vztahují práva a povinnosti
	vyplývající ze zákona č.\,121/2000~Sb., autorský zákon, zejména se skutečností,
	že Univerzita Pardubice má právo na uzavření licenční smlouvy o~užití této práce
	jako školního díla podle §~60~odst.\,1 autorského zákona, a s~tím,
	že pokud dojde k~užití této práce mnou nebo bude poskytnuta licence o~užití jinému subjektu,
	je Univerzita Pardubice oprávněna ode mne požadovat přiměřený příspěvek na úhradu nákladů,
	které na vytvoření díla vynaložila, a~to podle okolností až do jejich skutečné výše.
	\par
	Beru na vědomí, že v~souladu s~§~47b zákona č.\,111/1998~Sb.,
	o~vysokých školách a o~změně a doplnění dalších zákonů (zákon o~vysokých školách),
	ve znění pozdějších předpisů, a směrnicí Univerzity Pardubice č.\,9/2012,
	bude práce zveřejněna v~Univerzitní knihovně
	a prostřednictvím Digitální knihovny Univerzity Pardubice.
	\par
	\bigskip
	\bigskip
	\noindent V~Pardubicích dne \datumOdevzdaniPrace
	\par
	\noindent\hfill \jmenoAutora
	\unskip\hskip\parindent\null	% na odstavcovou zarážku od pravého okraje
}

\def\podekovaniDolu{\podekovanidolutrue}
\newcommand{\acknowledgment}{%
	\clearpage
	\null\vfill
	\subsection*{Poděkování}
	\textPodekovani
}

\newcommand{\items}[1]{
	\vspace{7pt}
	\begin{itemize}
		#1
	\end{itemize}
	\vspace{7pt}
}